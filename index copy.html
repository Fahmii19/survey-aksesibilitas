<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="dist/output.css" />

    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.css"
      rel="stylesheet"
    />

    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
  </head>

  <body class="font-inter">
    <!-- Mapbox -->
    <div id="mapAksesibilitas" class="map-container">
      <!-- Map will be here -->

      <div class="relative h-[100vh] flex flex-col">
        <!-- Header  -->
        <div
          class="z-10 h-[10vh] grid grid-cols-[1fr,100px] mb-7 items-center text-black px-6 sm:px-10 bg-slate-50 w-full sm:h-auto"
        >
          <div
            class="h-9 font-bold mt-7 -mb-1 xs:text-2xl sm:text-2xl md:text-2xl lg:text-2xl xl:text-2xl font-inter_bold flex items-center"
          >
            Aksesibilitas
          </div>
          <div class="h-8 mt-7 -mb-1 flex items-center justify-end">
            <img
              src="./src/images/logout2.png"
              alt="Logout"
              style="height: 100%"
            />
          </div>

          <!-- <div
            class="font-bold mt-7 -mb-1 xs:text-2xl sm:text-2xl md:text-2xl lg:text-2xl xl:text-2xl font-inter_bold"
          >
            Aksesibilitas
          </div>
          <div class="flex justify-end mt-9 mb-2">
            <div class="flex w-7 h-auto items-center justify-center">
              <img
                src="./src/images/logout2.png"
                alt="Logout"
                style="height: 100%"
              />
            </div>
          </div> -->
        </div>
        <!-- Konten -->
        <div class="h-[80vh]">
          <!-- Konten Rekap -->
          <div
            id="rekapContainer"
            class="pb-[4vh] text-black pt-2 bg-slate-50 rounded-tl-[15px] rounded-tr-[15px] w-full h-[45vh] transition-all ease-in-out duration-300 table-rekap-hide absolute bottom-0 z-10 hidden"
          >
            <!--  -->
            <div class="flex justify-center px-6 mb-3">
              <div
                class="w-7 h-1 bg-gray-300 rounded-full cursor-pointer sticky -top-2 z-10"
                id="toggleButtonRekap"
              ></div>
            </div>
            <!--  -->
            <div class="mb-4 -mt-1 flex flex-col px-6">
              <div class="font-medium text-xl text-gray-700">Rekap</div>
            </div>
            <!--  -->
            <div class="relative px-3 pb-11">
              <!-- Data Dumy1 -->
              <div class="flex flex-col mb-1">
                <!-- Data -->
                <div
                  class="text-black text-sm grid grid-cols-[1fr,60px] border rounded-md py-3 px-3 bg-white"
                >
                  <div
                    class="flex justify-start items-center w-full btn_open_table_detail"
                  >
                    Taman Pondok Indah Pinggir Kali
                  </div>
                  <div class="flex justify-end mt-1.5">
                    <div class="w-[1.1rem] h-[1.1rem]">
                      <img src="./src/images/hapus.png" alt="Delete" />
                    </div>
                  </div>
                </div>
                <!-- Show Detail -->
                <!-- id="show-detail-rekap" -->
                <div
                  class="text-black bg-slate-50 w-full h-full transition-all ease-in-out duration-300 table-detail px-3 pb-5 mt-3 hidden"
                >
                  <div
                    class="overflow-y-auto h-[20vh] expand_rekap hide-scrollbar relative"
                  >
                    <form>
                      <div class="mb-3">
                        <label
                          for="alamat"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Alamat Lokasi</label
                        >
                        <input
                          type="text"
                          id="alamat"
                          name="alamat"
                          class="bg-gray-200 border border-gray-300 text-gray-900 text-sm block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          value="Jalan manggis"
                          readonly=""
                        />
                      </div>
                      <div class="mb-3">
                        <label
                          for="lebar"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Lebar Jalan</label
                        >
                        <input
                          type="text"
                          id="lebar"
                          name="lebar"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          required=""
                        />
                      </div>
                      <div class="mb-3">
                        <label
                          for="jenis"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Jenis Jalan</label
                        >
                        <select
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full h-10 px-2.5 py-1.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          name="jenis"
                        >
                          <option value="">Pilih</option>
                          <option value="">Permukaan</option>
                          <option value="">Underground</option>
                          <option value="">Di atas</option>
                        </select>
                      </div>
                      <div class="mb-3">
                        <label
                          for="kelas"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Kelas Jalan</label
                        >
                        <select
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full h-10 px-2.5 py-1.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          name="kelas"
                        >
                          <option value="">Pilih</option>
                          <option value="">Arteri</option>
                          <option value="">Kolektor</option>
                          <option value="">Lingkungan</option>
                        </select>
                      </div>
                      <div class="mb-3">
                        <label
                          for="kelas"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Pedestrian</label
                        >

                        <div class="grid grid-rows-2">
                          <div class="flex items-center">
                            <input
                              id="ada"
                              type="radio"
                              value=""
                              name="status"
                              class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600"
                            />
                            <label for="ada" class="ml-2 text-sm">Ada</label>
                          </div>
                          <div class="flex items-center">
                            <input
                              id="tidak-ada"
                              type="radio"
                              value=""
                              name="status"
                              class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600"
                            />
                            <label for="tidak-ada" class="ml-2 text-sm"
                              >Tidak Ada</label
                            >
                          </div>
                        </div>
                      </div>

                      <div
                        class="max-w-screen-lg mx-auto grid grid-rows-2 mb-6"
                      >
                        <div class="grid grid-cols-2 gap-x-5 mb-2">
                          <div>
                            <label
                              class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                              >Foto Depan</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoDepanInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoDepanInput', 'fotoDepanPreview')"
                              />
                              <label
                                for="fotoDepanInput"
                                class="cursor-pointer"
                              >
                                <img
                                  id="fotoDepanPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                          <div>
                            <label
                              class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                              >Foto Seberang</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoSeberangInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoSeberangInput', 'fotoSeberangPreview')"
                              />
                              <label
                                for="fotoSeberangInput"
                                class="cursor-pointer"
                              >
                                <img
                                  id="fotoSeberangPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                        </div>

                        <div class="grid grid-cols-2 gap-x-5">
                          <div>
                            <label
                              class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                              >Foto Kiri</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoKiriInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoKiriInput', 'fotoKiriPreview')"
                              />
                              <label for="fotoKiriInput" class="cursor-pointer">
                                <img
                                  id="fotoKiriPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                          <div>
                            <label
                              class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                              >Foto Kanan</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoKananInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoKananInput', 'fotoKananPreview')"
                              />
                              <label
                                for="fotoKananInput"
                                class="cursor-pointer"
                              >
                                <img
                                  id="fotoKananPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="flex justify-center xs:pb-16">
                        <div class="">
                          <button
                            id="btn_table_detail"
                            type="button"
                            class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-0 font-medium rounded-full text-sm px-10 py-2.5 text-center"
                          >
                            Simpan
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              <!-- Data Dumy1 -->
              <div class="flex flex-col mb-1">
                <!-- Data -->
                <div
                  class="text-black text-sm grid grid-cols-[1fr,60px] border rounded-md py-3 px-3 bg-white"
                >
                  <div
                    class="flex justify-start items-center w-full btn_open_table_detail"
                  >
                    Taman Pondok Indah Pinggir Kali
                  </div>
                  <div class="flex justify-end mt-1.5">
                    <div class="w-[1.1rem] h-[1.1rem]">
                      <img src="./src/images/hapus.png" alt="Delete" />
                    </div>
                  </div>
                </div>
                <!-- Show Detail -->
                <div
                  class="text-black bg-slate-50 w-full h-full transition-all ease-in-out duration-300 table-detail px-3 pb-5 mt-3 hidden"
                >
                  <div
                    class="h-full overflow-y-auto h-[20vh] expand_rekap hide-scrollbar relative"
                  >
                    <form>
                      <div class="mb-3">
                        <label
                          for="alamat"
                          class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                          >Alamat Lokasi</label
                        >
                        <input
                          type="text"
                          id="alamat"
                          name="alamat"
                          class="bg-gray-200 border border-gray-300 text-gray-900 text-md block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          value="Jalan manggis"
                          readonly=""
                        />
                      </div>
                      <div class="mb-3">
                        <label
                          for="lebar"
                          class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                          >Lebar Jalan</label
                        >
                        <input
                          type="text"
                          id="lebar"
                          name="lebar"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-md block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          required=""
                        />
                      </div>
                      <div class="mb-3">
                        <label
                          for="jenis"
                          class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                          >Jenis Jalan</label
                        >
                        <select
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-md block w-full h-10 px-2.5 py-1.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          name="jenis"
                        >
                          <option value="">Pilih</option>
                          <option value="">Permukaan</option>
                          <option value="">Underground</option>
                          <option value="">Di atas</option>
                        </select>
                      </div>
                      <div class="mb-3">
                        <label
                          for="kelas"
                          class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                          >Kelas Jalan</label
                        >
                        <select
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-md block w-full h-10 px-2.5 py-1.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          name="kelas"
                        >
                          <option value="">Pilih</option>
                          <option value="">Arteri</option>
                          <option value="">Kolektor</option>
                          <option value="">Lingkungan</option>
                        </select>
                      </div>
                      <div class="mb-3">
                        <label
                          for="kelas"
                          class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                          >Pedestrian</label
                        >

                        <div class="grid grid-rows-2">
                          <div class="flex items-center">
                            <input
                              id="ada"
                              type="radio"
                              value=""
                              name="status"
                              class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600"
                            />
                            <label for="ada" class="ml-2 text-md">Ada</label>
                          </div>
                          <div class="flex items-center">
                            <input
                              id="tidak-ada"
                              type="radio"
                              value=""
                              name="status"
                              class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600"
                            />
                            <label for="tidak-ada" class="ml-2 text-md"
                              >Tidak Ada</label
                            >
                          </div>
                        </div>
                      </div>

                      <div
                        class="max-w-screen-lg mx-auto grid grid-rows-2 mb-6"
                      >
                        <div class="grid grid-cols-2 gap-x-5 mb-2">
                          <div>
                            <label
                              class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                              >Foto Depan</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoDepanInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoDepanInput', 'fotoDepanPreview')"
                              />
                              <label
                                for="fotoDepanInput"
                                class="cursor-pointer"
                              >
                                <img
                                  id="fotoDepanPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                          <div>
                            <label
                              class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                              >Foto Seberang</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoSeberangInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoSeberangInput', 'fotoSeberangPreview')"
                              />
                              <label
                                for="fotoSeberangInput"
                                class="cursor-pointer"
                              >
                                <img
                                  id="fotoSeberangPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                        </div>

                        <div class="grid grid-cols-2 gap-x-5">
                          <div>
                            <label
                              class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                              >Foto Kiri</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoKiriInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoKiriInput', 'fotoKiriPreview')"
                              />
                              <label for="fotoKiriInput" class="cursor-pointer">
                                <img
                                  id="fotoKiriPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                          <div>
                            <label
                              class="block mb-1 text-md font-medium text-gray-900 tracking-wide"
                              >Foto Kanan</label
                            >
                            <div class="relative">
                              <input
                                type="file"
                                id="fotoKananInput"
                                class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                                accept="image/*"
                                onchange="previewImage('fotoKananInput', 'fotoKananPreview')"
                              />
                              <label
                                for="fotoKananInput"
                                class="cursor-pointer"
                              >
                                <img
                                  id="fotoKananPreview"
                                  class="w-auto h-5vh"
                                  src="./src/images/noimage.png"
                                  alt="Tidak ada gambar"
                                />
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="flex justify-center mb-4">
                        <div class="">
                          <button
                            id="btn_table_detail"
                            type="button"
                            class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-0 font-medium rounded-full text-md px-10 py-2.5 text-center"
                          >
                            Simpan
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              <!--  -->
            </div>
          </div>
          <!-- Konten Form  -->
          <div
            class="pb-[4vh] text-black pt-2 bg-slate-50 rounded-tl-[15px] rounded-tr-[15px] w-full h-[45vh] transition-all ease-in-out duration-300 absolute bottom-0 z-10 form-input-akses hidden"
          >
            <!--  -->
            <div class="flex justify-center px-6 mb-3">
              <div
                class="w-7 h-1 bg-gray-300 rounded-full cursor-pointer sticky -top-2 z-10"
                id="toggleButtonFormInput"
              ></div>
            </div>
            <!--  -->
            <div class="mb-4 -mt-1 flex flex-col px-6">
              <div class="font-medium text-xl text-gray-700">Form Input</div>
            </div>
            <!--  -->
            <div class="relative px-3 pb-11">
              <div class="flex flex-col mb-1">
                <!-- Form -->
                <div
                  class="text-black bg-slate-50 w-full h-full transition-all ease-in-out duration-300 table-detail px-3 pb-5 mt-3"
                >
                  <div
                    class="overflow-y-auto h-[20vh] expand_input hide-scrollbar relative"
                  >
                    <form>
                      <div class="mb-3">
                        <label
                          for="alamat"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Alamat Lokasi</label
                        >
                        <input
                          type="text"
                          id="alamat"
                          name="alamat"
                          class="bg-gray-200 border border-gray-300 text-gray-900 text-sm block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          value="Jalan manggis"
                          readonly=""
                        />
                      </div>
                      <div class="mb-3">
                        <label
                          for="lebar"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Lebar Jalan</label
                        >
                        <input
                          type="text"
                          id="lebar"
                          name="lebar"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          required=""
                        />
                      </div>

                      <div class="flex justify-center xs:pb-16">
                        <div class="">
                          <button
                            id="btn_table_detail"
                            type="button"
                            class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-0 font-medium rounded-full text-sm px-10 py-2.5 text-center"
                          >
                            Simpan
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

              <!--  -->
            </div>
          </div>

          <!-- Konten Profil -->
          <div
            class="pb-[4vh] text-black pt-2 bg-slate-50 rounded-tl-[15px] rounded-tr-[15px] w-full h-[45vh] transition-all ease-in-out duration-300 form-profil absolute bottom-0 z-10 hidden"
          >
            <!--  -->
            <div class="flex justify-center px-6 mb-3">
              <div
                class="w-7 h-1 bg-gray-300 rounded-full cursor-pointer sticky -top-2 z-10"
                id="toggleButtonProfil"
              ></div>
            </div>
            <!--  -->
            <div class="mb-4 -mt-1 flex flex-col px-6">
              <div class="font-medium text-xl text-gray-700">Profil</div>
            </div>
            <!--  -->
            <div class="relative px-3 pb-11">
              <div class="flex flex-col mb-1">
                <!-- Form -->
                <div
                  class="text-black bg-slate-50 w-full h-full transition-all ease-in-out duration-300 table-detail px-3 pb-5 mt-3"
                >
                  <div
                    class="overflow-y-auto h-[20vh] expand_profil hide-scrollbar relative"
                  >
                    <form>
                      <div class="mb-3">
                        <label
                          for="alamat"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Alamat Lokasi</label
                        >
                        <input
                          type="text"
                          id="alamat"
                          name="alamat"
                          class="bg-gray-200 border border-gray-300 text-gray-900 text-sm block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          value="Jalan manggis"
                          readonly=""
                        />
                      </div>
                      <div class="mb-3">
                        <label
                          for="lebar"
                          class="block mb-1 text-sm font-medium text-gray-900 tracking-wide"
                          >Lebar Jalan</label
                        >
                        <input
                          type="text"
                          id="lebar"
                          name="lebar"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full h-10 p-2.5 outline-none border-1 focus:border-gray-700 focus:ring-0"
                          required=""
                        />
                      </div>

                      <div class="flex justify-center xs:pb-16">
                        <div class="">
                          <button
                            id="btn_table_detail"
                            type="button"
                            class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-0 font-medium rounded-full text-sm px-10 py-2.5 text-center"
                          >
                            Simpan
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

              <!--  -->
            </div>
          </div>
          <!--  -->
        </div>

        <!-- Navigasi  -->
        <div
          class="h-[10vh] w-full fixed bottom-0 p-5 px-6 grid grid-cols-3 bg-white shadow-3xl text-gray-400 cursor-pointer z-10"
        >
          <!-- Menu1 -->
          <div class="flex flex-col items-center">
            <div class="inline-flex flex-col items-center justify-center">
              <div class="flex w-8 h-8 items-center justify-center btn_rekap">
                <img
                  src="./src/images/rekap.png"
                  alt=""
                  class="menu-image-rekap"
                />
              </div>
            </div>
          </div>

          <!-- Menu2 -->
          <div class="flex flex-col items-center relative">
            <div
              class="bottom-5 text-center flex items-center justify-center rounded-full text-3xl p-[3vh] text-white bg-[#2A64D9] transition ease-in duration-200 absolute btn_form_input"
            >
              <svg
                class="w-6 h-6 text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 18 18"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 1v16M1 9h16"
                />
              </svg>
            </div>
          </div>

          <!-- Menu3 -->
          <div class="flex flex-col items-center">
            <div class="inline-flex flex-col items-center justify-center">
              <div class="flex w-8 h-8 items-center justify-center btn_profil">
                <img
                  src="./src/images/user.png"
                  alt=""
                  class="menu-image-profil"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.js"
    defer
  ></script>
  <script src="./src/js/aksesibilitas.js" defer></script>
  <script src="./src/js/peta.js" defer></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // ========== Pendefinisian Variabel ==========
      const mapboxCtrlElement = document.querySelector(
        ".mapboxgl-ctrl-top-right"
      );
      const formInputAkses = document.querySelector(".form-input-akses");
      const btnRekap = document.querySelector(".btn_rekap");
      const btnRekapImage = btnRekap
        ? btnRekap.querySelector(".menu-image-rekap")
        : null;
      // const btnInput = document.querySelector("#toggleButtonOpen");
      const formProfil = document.querySelector(".form-profil");
      const btnProfil = document.querySelector(".btn_profil");
      const btnProfilImage = btnProfil
        ? btnProfil.querySelector(".menu-image-profil")
        : null;

      // const toggleButtonFormInput = document.getElementById(
      //   "toggleButtonFormInput"
      // );

      const toggleButtonFormInput = document.querySelector(
        "#toggleButtonFormInput"
      ); // Placeholder selector, replace with the correct one

      const btnFormInput = document.querySelector(".btn_form_input");

      const toggleButtonProfil = document.querySelector("#toggleButtonProfil");
      const toggleButtonRekap = document.getElementById("toggleButtonRekap");
      const rekapContainer = document.getElementById("rekapContainer");
      const btnOpenTableDetail = document.querySelector(
        ".btn_open_table_detail"
      );
      const tableDetail = document.querySelector(".table-detail");
      const collapseImage = document.getElementById("collapseImage");
      const tableRekapElement = document.querySelector(".table-rekap-hide");
      // const showDetailRekap = document.getElementById("show-detail-rekap");
      const expandRekap = document.querySelector(".expand_rekap");
      const formContainerRekapHide = expandRekap;

      // ========== Fungsi Bantuan ==========

      function resetAll() {
        if (tableRekapElement) tableRekapElement.classList.add("hidden");
        if (formInputAkses) formInputAkses.classList.add("hidden");
        if (formProfil) formProfil.classList.add("hidden");
        if (mapboxCtrlElement) mapboxCtrlElement.style.zIndex = "5";
        if (btnRekapImage) btnRekapImage.src = "./src/images/rekap.png";
        if (btnProfilImage) btnProfilImage.src = "./src/images/user.png";

        // mereset setelah klik tombol rekap
        if (rekapContainer) rekapContainer.style.height = "45vh";
        if (tableRekapElement) {
          tableRekapElement.classList.add("rounded-tl-[15px]");
          tableRekapElement.classList.add("rounded-tr-[15px]");
        }
        if (toggleButtonRekap) toggleButtonRekap.style.display = "block";

        // Mereset setelah klik tombol form input
        if (formInputAkses) formInputAkses.style.height = "45vh";
        if (formInputAkses) {
          formInputAkses.classList.add("rounded-tl-[15px]");
          formInputAkses.classList.add("rounded-tr-[15px]");
        }
        if (toggleButtonFormInput)
          toggleButtonFormInput.style.display = "block";
      }

      function toggleHeight(element, initialHeight, toggledHeight) {
        if (element) {
          if (element.style.height === initialHeight || !element.style.height) {
            element.style.height = toggledHeight;
          } else {
            element.style.height = initialHeight;
          }
        }
      }

      // ========== Logika Form Rekap ==========

      if (btnOpenTableDetail && tableDetail) {
        btnOpenTableDetail.addEventListener("click", function () {
          tableDetail.classList.toggle("hidden");
          if (
            collapseImage &&
            collapseImage.src.endsWith("open_collapse.png")
          ) {
            collapseImage.src = "./src/images/close_collapse.png";
          } else if (collapseImage) {
            collapseImage.src = "./src/images/open_collapse.png";
          }
        });
      }

      if (btnRekap && tableRekapElement && btnRekapImage) {
        btnRekap.addEventListener("click", function () {
          if (tableRekapElement.classList.contains("hidden")) {
            resetAll();
            tableDetail.classList.add("hidden");
            tableRekapElement.classList.remove("hidden");
            btnRekapImage.src = "./src/images/active_rekap.png";
          } else {
            tableRekapElement.classList.add("hidden");
            btnRekapImage.src = "./src/images/rekap.png";
          }
        });
      }

      if (toggleButtonRekap && rekapContainer) {
        toggleHeight(formContainerRekapHide, "20vh", "13vh");
        toggleButtonRekap.addEventListener("click", function () {
          expandRekap.style.height = "62vh";
          if (rekapContainer.style.height !== "90vh") {
            rekapContainer.style.height = "90vh";
            tableRekapElement.classList.remove("rounded-tl-[15px]");
            tableRekapElement.classList.remove("rounded-tr-[15px]");
            toggleButtonRekap.style.display = "none";
          } else {
            rekapContainer.style.height = "45vh";
            tableRekapElement.classList.add("rounded-tl-[15px]");
            tableRekapElement.classList.add("rounded-tr-[15px]");
            toggleButtonRekap.style.display = "block";
          }
        });
      }

      // ========== Logika Form Input ==========

      if (btnFormInput && formInputAkses) {
        btnFormInput.addEventListener("click", function () {
          formInputAkses.classList.toggle("hidden");
          // menutupi form rekap
          tableRekapElement.classList.add("hidden");
        });
      }

      if (toggleButtonFormInput && formInputAkses) {
        toggleButtonFormInput.addEventListener("click", function () {
          toggleHeight(formInputAkses, "45vh", "90vh");

          if (formInputAkses.style.height === "90vh") {
            if (mapboxCtrlElement) {
              mapboxCtrlElement.style.zIndex = "-1";
            }
            formInputAkses.classList.remove("rounded-tl-[15px]");
            formInputAkses.classList.remove("rounded-tr-[15px]");
            toggleButtonFormInput.style.display = "none";
          } else {
            if (mapboxCtrlElement) {
              mapboxCtrlElement.style.zIndex = "5";
            }
            formInputAkses.classList.add("rounded-tl-[15px]");
            formInputAkses.classList.add("rounded-tr-[15px]");
            toggleButtonFormInput.style.display = "block"; // Show the toggle button again
          }
        });
      }

      // ========== Logika Form Profil ==========

      if (btnProfil && formProfil) {
        btnProfil.addEventListener("click", function () {
          formProfil.classList.toggle("hidden");
        });
      }

      if (toggleButtonProfil && formProfil) {
        toggleButtonProfil.addEventListener("click", function () {
          toggleHeight(formProfil, "45vh", "75vh");
        });
      }

      if (btnProfilImage) {
        btnProfilImage.addEventListener("click", function () {
          if (formProfil.classList.contains("hidden")) {
            resetAll();
            formProfil.classList.remove("hidden");
            btnProfilImage.src = "./src/images/active_user.png";
          } else {
            formProfil.classList.add("hidden");
            btnProfilImage.src = "./src/images/user.png";
          }
        });
      }

      // ========== Gesture Handling ==========

      if (tableRekapElement) {
        let touchStartY = 0;
        let initialTableHeight = 0; // Tinggi awal dalam vh
        tableRekapElement.style.height = initialTableHeight + "vh";

        tableRekapElement.addEventListener("touchstart", function (event) {
          touchStartY = event.touches[0].clientY;
          initialTableHeight = parseFloat(tableRekapElement.style.height);
          tableRekapElement.style.transition = "none";
        });

        tableRekapElement.addEventListener("touchmove", function (event) {
          const touchCurrentY = event.touches[0].clientY;
          const diffY =
            ((touchStartY - touchCurrentY) / window.innerHeight) * 100;
          let newHeight = initialTableHeight + diffY;

          // Batasi tinggi minimum dan maksimum
          newHeight = Math.min(Math.max(0, newHeight), 90);

          // Perubahan tinggi elemen
          tableRekapElement.style.height = newHeight + "vh";

          // Tambahkan atau hapus kelas sesuai dengan tinggi
          if (newHeight <= 55) {
            tableRekapElement.classList.add("rounded-tl-[15px]");
            tableRekapElement.classList.add("rounded-tr-[15px]");
            toggleButtonRekap.style.display = "block";
          } else {
            tableRekapElement.classList.remove("rounded-tl-[15px]");
            tableRekapElement.classList.remove("rounded-tr-[15px]");
            toggleButtonRekap.style.display = "none";
          }
        });

        tableRekapElement.addEventListener("touchend", function () {
          tableRekapElement.style.transition = "height 0.3s";

          // Tentukan tinggi akhir berdasarkan kondisi
          if (parseFloat(tableRekapElement.style.height) > 55) {
            tableRekapElement.style.height = "90vh";
            expandRekap.style.height = "62vh";
          } else if (
            parseFloat(tableRekapElement.style.height) < 55 &&
            parseFloat(tableRekapElement.style.height) >= 20
          ) {
            tableRekapElement.style.height = "45vh";
            expandRekap.style.height = "13vh";
          } else if (parseFloat(tableRekapElement.style.height) < 20) {
            tableRekapElement.style.height = "0vh";
            resetAll();
          }
        });
      }

      // ========== Gesture Handling untuk Form Input ==========

      if (formInputAkses) {
        let touchStartYInput = 0;
        let initialFormHeight = 0; // Tinggi awal dalam vh (sesuaikan jika perlu)
        formInputAkses.style.height = initialFormHeight + "vh";

        formInputAkses.addEventListener("touchstart", function (event) {
          touchStartYInput = event.touches[0].clientY;
          initialFormHeight = parseFloat(formInputAkses.style.height);
          formInputAkses.style.transition = "none";
        });

        formInputAkses.addEventListener("touchmove", function (event) {
          const touchCurrentYInput = event.touches[0].clientY;
          const diffYInput =
            ((touchStartYInput - touchCurrentYInput) / window.innerHeight) *
            100;
          let newHeightInput = initialFormHeight + diffYInput;

          // Batasi tinggi minimum dan maksimum
          newHeightInput = Math.min(Math.max(0, newHeightInput), 90);

          // Perubahan tinggi elemen
          formInputAkses.style.height = newHeightInput + "vh";

          // Tambahkan atau hapus kelas sesuai dengan tinggi
          if (newHeightInput <= 55) {
            formInputAkses.classList.add("rounded-tl-[15px]");
            formInputAkses.classList.add("rounded-tr-[15px]");
            toggleButtonFormInput.style.display = "block";
          } else {
            formInputAkses.classList.remove("rounded-tl-[15px]");
            formInputAkses.classList.remove("rounded-tr-[15px]");
            toggleButtonFormInput.style.display = "none";
          }
        });

        formInputAkses.addEventListener("touchend", function () {
          formInputAkses.style.transition = "height 0.3s";

          // Tentukan tinggi akhir berdasarkan kondisi
          if (parseFloat(formInputAkses.style.height) > 55) {
            formInputAkses.style.height = "90vh";
          } else if (
            parseFloat(formInputAkses.style.height) < 55 &&
            parseFloat(formInputAkses.style.height) >= 20
          ) {
            formInputAkses.style.height = "45vh";
          } else if (parseFloat(formInputAkses.style.height) < 20) {
            formInputAkses.style.height = "0vh";
            resetAll();
          }
        });
      }

      // ========== Gesture Handling untuk Form Profil ==========

      // if (formProfil) {
      //   let touchStartYProfil = 0;
      //   let initialFormProfilHeight = 0; // Tinggi awal dalam vh (sesuaikan jika perlu)
      //   formProfil.style.height = initialFormProfilHeight + "vh";

      //   formProfil.addEventListener("touchstart", function (event) {
      //     touchStartYProfil = event.touches[0].clientY;
      //     initialFormProfilHeight = parseFloat(formProfil.style.height);
      //     formProfil.style.transition = "none";
      //   });

      //   formProfil.addEventListener("touchmove", function (event) {
      //     const touchCurrentYProfil = event.touches[0].clientY;
      //     const diffYProfil =
      //       ((touchStartYProfil - touchCurrentYProfil) / window.innerHeight) * 100;
      //     let newHeightProfil = initialFormProfilHeight + diffYProfil;

      //     // Batasi tinggi minimum dan maksimum
      //     newHeightProfil = Math.min(Math.max(0, newHeightProfil), 90);

      //     // Perubahan tinggi elemen
      //     formProfil.style.height = newHeightProfil + "vh";

      //     // Tambahkan atau hapus kelas sesuai dengan tinggi
      //     if (newHeightProfil <= 55) {
      //       formProfil.classList.add("rounded-tl-[15px]");
      //       formProfil.classList.add("rounded-tr-[15px]");
      //       toggleButtonProfil.style.display = "block";
      //     } else {
      //       formProfil.classList.remove("rounded-tl-[15px]");
      //       formProfil.classList.remove("rounded-tr-[15px]");
      //       toggleButtonProfil.style.display = "none";
      //     }
      //   });

      //   formProfil.addEventListener("touchend", function () {
      //     formProfil.style.transition = "height 0.3s";

      //     // Tentukan tinggi akhir berdasarkan kondisi
      //     if (parseFloat(formProfil.style.height) > 55) {
      //       formProfil.style.height = "75vh";
      //     } else if (
      //       parseFloat(formProfil.style.height) < 55 &&
      //       parseFloat(formProfil.style.height) >= 20
      //     ) {
      //       formProfil.style.height = "45vh";
      //     } else if (parseFloat(formProfil.style.height) < 20) {
      //       formProfil.style.height = "0vh";
      //       resetAll();
      //     }
      //   });
      // }
    });
  </script>
</html>
